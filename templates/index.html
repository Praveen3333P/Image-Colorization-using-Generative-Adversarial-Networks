<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Edu+TAS+Beginner:wght@400&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap');


    * {
        margin: 0;
        padding: 0;
    }

    .split {
        display: flex;
        height: 100vh;
    }

    .left {
        background-color: #fafaf1;
        min-width: 50%;
    }

    .right {
        background-color: #ecf6ef;
        min-width: 50%;
    }

    .button {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #83ccd3;
        z-index: 2;
        position: absolute;
        margin-top: -100px;
        top: 70%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 15px 30px;
        font-size: 16px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #ffffff;
        background-color: #008CBA;
        border: none;
        border-radius: 15px;
        transition: background-color 0.3s;

    }

    .button:hover {
        background-color: #007B9A;
        transition: background-color 0.3s;
    }

    .navbar {
        background-color: transparent;
        transition: background-color 0.2s ease-in-out;
    }

    .navbar.scrolled {
        background-color: white;
    }

    .custom-file-input {
        display: none;
    }

    .custom-upload-button:hover {
        background-color: #007B9A;
        transition: background-color 0.3s;
    }

    img {
        height: 50px;
    }

    .logo {
        position: absolute;
        left: 2%;
    }

    .navbar-toggler {
        position: absolute;
        right: 15px;
    }

    .displayedimg {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #83ccd3;
        z-index: 2;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 200px;
        height: 200px;
    }

    h1 {
        font-family: 'Ubuntu', sans-serif;
    }

    p {
        font-family: 'Edu TAS Beginner', cursive;
    }

    h2 {
        font-size: 36px;
    }

    .fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeIn 1s ease-in-out forwards;
    }

    @keyframes fadeIn {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @media (max-width: 768px) {
        .split {
            flex-direction: column;
            height: auto;
        }

        .left,
        .right {
            min-width: 100%;
        }

        .navbar {
            position: static;
        }
    }

    #contact {
        background-color: #f8f9fa;
        /* Light grey background */
        padding: 50px 0;
    }

    #contact form {
        max-width: 600px;
        margin: auto;
    }

    #contact .form-group {
        margin-bottom: 20px;
    }

    #contact label {
        font-weight: bold;
        color: #007B9A;
        /* Highlight color */
    }

    #contact textarea {
        resize: none;
    }

    #contact button {
        background-color: #007B9A;
        /* Highlight color */
        color: #fff;
        /* White text */
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    #contact button:hover {
        background-color: #00506b;
        /* Darker highlight color on hover */
    }

    #footer {
        background-color: #343a40;
        /* Dark background color */
        color: #fff;
        /* White text */
        padding: 20px 0;
        text-align: center;
    }

    #footer a {
        color: #007B9A;
        /* Highlight color for links */
    }

    #footer a:hover {
        color: #00506b;
        /* Darker highlight color on hover */
    }

    body.dark-mode {
        background-color: #111;
        color: #fff;
        transition: background-color 0.3s, color 0.3s;
    }

    .navbar.dark-mode .navbar-nav .nav-item .nav-link {
        background-color: #262719 !important;
        color: #fff;
    }

    /* .li.dark-mode {
        color: #fff;
    } */

    .left.dark-mode {

        background-color: #1f2010;
        color: #f4eaea;
        transition: background-color 0.3s, color 0.3s;
    }

    .right.dark-mode {
        background-color: #444;
        color: #fff;
        transition: background-color 0.3s, color 0.3s;
    }

    #about.dark-mode,
    #contact.dark-mode {
        background-color: #111;
        color: #fff;
    }

    #contact.dark-mode {
        color: #fff;
    }

    .theme-button {
        margin-left: auto;
        /* Align to the right */
        margin-right: 15px;
        /* Add some spacing between the navbar items and the button */
        margin-top: auto;

    }

    .image-box-left {
        width: 600px;
        /* Adjust the width as needed */
        height: 400px;
        /* Adjust the height as needed */
        border: 1px solid #ddd;
        /* Add a thin border */
        background-color: #fafaf1;
        margin: 10px;
        /* Add some margin for spacing */
    }

    .image-box-right {
        float: right;
        background-color: #ecf6ef;
        width: 600px;
        /* Adjust the width as needed */
        height: 390px;
        /* Adjust the height as needed */
        border: 1px solid #ddd;
        /* Add a thin border */
        margin: 10px;
        /* Add some margin for spacing */
    }

    .image-box-left.dark-mode {
        background-color: #1f2010;
    }

    .image-box-right.dark-mode {
        background-color: #444;
    }

    @media (max-width: 768px) {
        .split {
            flex-direction: column;
            height: auto;
        }

        .left,
        .right {
            min-width: 100%;
        }

        .navbar {
            position: static;
        }

        .image-box-left,
        .image-box-right {
            width: 100%;
            height: auto;
            margin: 20px 0;
        }

        .d-sm-flex {
            flex-wrap: wrap;
        }

        .fs-2 {
            font-size: 24px;
        }

        .mt-5 {
            padding: 20px 0;
        }
    }

    @media (max-width: 480px) {
        .fs-2 {
            font-size: 18px;
        }

        .image-box-left,
        .image-box-right {
            margin: 10px 0;
        }
    }

    /* Add these new styles */

    @media (max-width: 768px) {
        .split {
            flex-direction: column;
            height: auto;
        }

        .left,
        .right {
            min-width: 100%;
        }

        .image-box-left,
        .image-box-right {
            width: 100%;
            height: auto;
            margin: 20px 0;
        }

        .d-sm-flex {
            flex-direction: column;
        }

        .image-box-left img,
        .image-box-right img {
            width: 100%;
            height: auto;
            margin: 0 auto;
        }
    }

    @media (min-width: 768px) {
        .split {
            flex-direction: row;
            height: auto;
        }

        .left,
        .right {
            min-width: 50%;
        }

        .image-box-left,
        .image-box-right {
            width: 50%;
            height: auto;
            margin: 20px;
        }

        .d-sm-flex {
            flex-direction: row;
        }

        .image-box-left img,
        .image-box-right img {
            width: 100%;
            height: auto;
            margin: 0 auto;
        }
    }
</style>

<body>
    <div>
        <nav class="navbar navbar-expand-lg navbar-light fixed-top">
            <div class="container">
                <a class="navbar-brand" href="#"><img src="static\webimages\Tlogo.png" alt="logo"></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link mx-3" href="#home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-3" href="#about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-3" href="#contact">Contact Us</a>
                        </li>
                    </ul>
                </div>
                <ul>
                    <li class="nav-item list-unstyled"><i id="dark-mode-toggle" class="theme-button border-0"
                            onclick="toggleDarkMode()"><i class="bx bx-moon"></i></i></li>
                </ul>
            </div>

        </nav>
    </div>
    <div class="split fade-in" id="home">
        <div class="left">
            <div class="container" style="margin-top: 15%;">
                <h1 class="fs-2">Explore the Artistry of Precision: Our Pre-Trained Model</h1>
                <p class="fs-4"> Immerse yourself in the world of vibrant and lifelike imagery crafted through the
                    finesse
                    of our
                    pre-trained model, curated by the visionary richzang. Backed by the pioneering research outlined in
                    the
                    colorful image colorization paper, this column encapsulates the art and science of image enhancement
                    at
                    its finest. </p>
            </div>
            <div class="image-box-left">

            </div>
        </div>
        <div class="right">
            <div class="container" style="margin-top: 15%;">
                <h1 class="fs-2">Unleashing Uniqueness: Our Custom Model's Canvas</h1>
                <p class="fs-4">Embark on a journey of unparalleled creativity with the bespoke results from our Custom
                    Model. Crafted in-house through tireless research and development, this column represents the
                    pinnacle
                    of innovation in image colorization. Unlike the conventional, our Custom Model is a testament to our
                    commitment to pushing boundaries,delivering results that are distinctly yours.</p>
            </div>
            <div class="image-box-right">
                <!-- Add this to your existing HTML where you want to display the images -->
                <div id="result-images" style="display: none;">
                    <img id="original-image" alt="Original Image" style="width: 50%; height: 50%; float:left;">
                    <img id="colorized-image" alt="Colorized Image" style="width: 50%; height: 50%; float:left;">
                </div>
            </div>
        </div>

    </div>
    <div class="button shadow-lg rounded">
        <label for="custom-file-input" class="custom-upload-button" onclick="triggerFileInput()">Upload Image</label>
        <input type="file" id="custom-file-input" class="custom-file-input" name="image" accept="image/*"
            style="visibility: hidden;" onchange="processImage()" />
    </div>

    <!-- <div><img class="displayedimg" id="uploaded-image" src="" alt="Uploaded Image"
            style="display: none; max-width: 100%;" /></div> -->

    <div class="mt-5 about" id="about">
        <h1 class="text-center" style="font-size: 36px;">About Us</h1>
        <div class="d-sm-flex align-items-center fade-in">
            <div class="container-fluid mx-2" style="max-width: 70%;">
                <h1 class="text-center fw-bolder">Customize Your World: Unleash Your Image's True Colors</h1>
                <p class="fs-2 fst-italic mx-5">Breathe life into your
                    black & white photos with our state-of-the-art
                    colorizing technology. Our
                    website
                    provides two incredible model options: custom and pre-trained, designed with a minimalist and
                    elegant touch.</p>
            </div>
            <div class="col-5 justify-content-center text-center img-fluid"><img class="shadow-lg"
                    src="static/webimages/colorsplash.jpg" alt="splash"
                    style="width: 70%; height: 70%; margin-top: 5%; border-radius: 20px;"></div>
        </div>
        <br>
        <div class="d-sm-flex align-items-center">
            <div class="col-5 justify-content-center text-center fade-in"><img class="shadow-lg img-fluid"
                    src="static/webimages\about2.png" alt="splash"
                    style="width: 70%; height: 70%; margin-top: 5%; border-radius: 20px;"></div>
            <div class="container-fluid" style="max-width: 70%;">
                <h1 class="text-center fw-bolder">Explore Limitless Possibilities with Our Custom Model</h1>
                <p class="fs-2 fst-italic">Colorize your images based on your unique preferences with our extraordinary
                    custom model. Totally
                    edit
                    and revamp your monochrome visuals with a splash of vibrant hues, relying on our sophisticated
                    software.</p>
            </div>

        </div>
    </div>


    <!-- <div class="contact" id="contact">
        <h1 class="text-center" style="font-size: 36px;">Contact Us</h1>
        <div class="container-fluid">
            <form class="mx-auto">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea class="form-control" id="message" rows="5"
                        placeholder="Write your message here"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div> -->
    <div class="contact" id="contact">
        <div class="visme_d" data-title="Untitled Project" data-url="6x39rzd6-untitled-project" data-domain="forms"
            data-full-page="false" data-min-height="500px" data-form-id="26307"></div>
    </div>
    <script src="https://static-bundles.visme.co/forms/vismeforms-embed.js"></script>
    <div id="footer">
        <p>&copy; 2023 <span class="fw-bolder">COLORWHIZ</span>. All Rights Reserved.</p>
        <p>Designed by <a href="#" target="_blank">Pilla Zamindars</a></p>
    </div>

    <script>
        document.getElementById('custom-file-input').addEventListener('change', function () {
            const fileInput = this;
            const file = fileInput.files[0];

            if (file) {
                const formData = new FormData();
                formData.append('file', file);

                fetch('http://localhost:5000/process_image', {
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('original-image').src = `data:image/png;base64,${data.original}`;
                        // document.getElementById('grayscale-image').src = `data:image/png;base64,${data.grayscale}`;
                        document.getElementById('colorized-image').src = `data:image/png;base64,${data.colorized}`;
                        document.getElementById('result-images').style.display = 'block';
                    })
                    .catch(error => console.error('Error:', error));
            }
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="static\js\script.js"></script>

    <script>
        // Define the triggerFileInput function
        function triggerFileInput() {
            // Get the file input element by its ID
            const fileInput = document.getElementById("custom-file-input");
            // Trigger the click event on the file input element
            fileInput.click();
        }

        // Example usage of triggerFileInput
        document.addEventListener('DOMContentLoaded', function () {
            // Assuming you have a label element that should trigger the file input dialog
            const label = document.querySelector('label[for="custom-file-input"]');
            if (label) {
                label.addEventListener('click', triggerFileInput);
            }
        });

        async function processImage() {
            const fileInput = document.getElementById("custom-file-input");
            const imageBox = document.querySelector(".image-box-left");

            const formData = new FormData();
            formData.append("file", fileInput.files[0]);

            try {
                const response = await fetch("/process_image", {
                    method: "POST",
                    body: formData,
                });

                if (!response.ok) {
                    throw new Error("Image processing failed");
                }

                const result = await response.json();

                // Create an image element and set its source to the processed image
                const img = document.createElement("img");
                img.src = `data:image/jpeg;base64,${result.processed_image}`;
                img.alt = 'Processed Image';
                img.style.display = 'block'; // Make sure the image is visible

                // Clear the image box and append the new image
                imageBox.innerHTML = "";
                imageBox.appendChild(img);
            } catch (error) {
                console.error("Error processing image:", error);
            }
        }
    </script>



    <script>
        $(document).ready(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop() > 100) {
                    $('.navbar').addClass('scrolled');
                } else {
                    $('.navbar').removeClass('scrolled');
                }
            });
        });
    </script>
</body>

</html>